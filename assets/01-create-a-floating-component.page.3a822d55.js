var ws=Object.defineProperty,xs=Object.defineProperties;var Bs=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var ps=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable;var es=(s,n,l)=>n in s?ws(s,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[n]=l,m=(s,n)=>{for(var l in n||(n={}))ps.call(n,l)&&es(s,l,n[l]);if(O)for(var l of O(n))ts.call(n,l)&&es(s,l,n[l]);return s},b=(s,n)=>xs(s,Bs(n));var Fs=(s,n)=>{var l={};for(var a in s)ps.call(s,a)&&n.indexOf(a)<0&&(l[a]=s[a]);if(s!=null&&O)for(var a of O(s))n.indexOf(a)<0&&ts.call(s,a)&&(l[a]=s[a]);return l};import{d as P,l as q,m as Y,n as cs,o as B,f as k,j as d,q as $,t as U,v as T,w as h,x as rs,y as G,z as R,A as ys,T as ks,F as J,B as is,C as K,D as _s,k as Es,h as t}from"./vendor.081cd380.js";function A(s){return s.split("-")[0]}function Ls(s){return s.split("-")[1]}function Q(s){return["top","bottom"].includes(A(s))?"x":"y"}function Ts(s){return s==="y"?"height":"width"}function us(s){let{reference:n,floating:l,placement:a}=s;const o=n.x+n.width/2-l.width/2,F=n.y+n.height/2-l.height/2;let p;switch(A(a)){case"top":p={x:o,y:n.y-l.height};break;case"bottom":p={x:o,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:F};break;case"left":p={x:n.x-l.width,y:F};break;default:p={x:n.x,y:n.y}}const e=Q(a),c=Ts(e);switch(Ls(a)){case"start":p[e]=p[e]-(n[c]/2-l[c]/2);break;case"end":p[e]=p[e]+(n[c]/2-l[c]/2);break}return p}const Ms=async(s,n,l)=>{const{placement:a="bottom",strategy:o="absolute",middleware:F=[],platform:p}=l;let e=await p.getElementRects({reference:s,floating:n,strategy:o}),{x:c,y:E}=us(b(m({},e),{placement:a})),y=a,r={};for(let u=0;u<F.length;u++){const{name:f,fn:i}=F[u],{x:v,y:g,data:C,reset:D}=await i({x:c,y:E,initialPlacement:a,placement:y,strategy:o,middlewareData:r,rects:e,platform:p,elements:{reference:s,floating:n}});if(c=v!=null?v:c,E=g!=null?g:E,r=b(m({},r),{[f]:C!=null?C:{}}),D){typeof D=="object"&&D.placement&&(y=D.placement),e=await p.getElementRects({reference:s,floating:n,strategy:o}),{x:c,y:E}=us(b(m({},e),{placement:y})),u=-1;continue}}return{x:c,y:E,placement:y,strategy:o,middlewareData:r}};function Ps(s){return m({top:0,right:0,bottom:0,left:0},s)}function $s(s){return typeof s!="number"?Ps(s):{top:s,right:s,bottom:s,left:s}}function Z(s){return b(m({},s),{top:s.y,left:s.x,right:s.x+s.width,bottom:s.y+s.height})}async function Rs(s,n){n===void 0&&(n={});const{x:l,y:a,platform:o,rects:F,elements:p,strategy:e}=s,{boundary:c="clippingParents",rootBoundary:E="viewport",elementContext:y="floating",altBoundary:r=!1,padding:u=0}=n,f=$s(u),v=p[r?y==="floating"?"reference":"floating":y],g=await o.getClippingClientRect({element:await o.isElement(v)?v:v.contextElement||await o.getDocumentElement({element:p.floating}),boundary:c,rootBoundary:E}),C=Z(await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y==="floating"?b(m({},F.floating),{x:l,y:a}):F.reference,offsetParent:await o.getOffsetParent({element:p.floating}),strategy:e}));return{top:g.top-C.top+f.top,bottom:C.bottom-g.bottom+f.bottom,left:g.left-C.left+f.left,right:C.right-g.right+f.right}}const Hs=Math.min,Ss=Math.max;function fs(s,n,l){return Ss(s,Hs(n,l))}function Ws(s){let{placement:n,rects:l,value:a}=s;const o=A(n),F=["left","top"].includes(o)?-1:1,p=typeof a=="function"?a(b(m({},l),{placement:n})):a,{mainAxis:e,crossAxis:c}=typeof p=="number"?{mainAxis:p,crossAxis:0}:m({mainAxis:0,crossAxis:0},p);return Q(o)==="x"?{x:c,y:e*F}:{x:e*F,y:c}}const ss=function(s){return s===void 0&&(s=0),{name:"offset",fn(n){const{x:l,y:a,placement:o,rects:F}=n,p=Ws({placement:o,rects:F,value:s});return{x:l+p.x,y:a+p.y,data:p}}}};function Os(s){return s==="x"?"y":"x"}const ns=function(s){return s===void 0&&(s={}),{name:"shift",async fn(n){const{x:l,y:a,placement:o}=n,v=s,{mainAxis:F=!0,crossAxis:p=!1,limiter:e=g=>{let{x:C,y:D}=g;return{x:C,y:D}}}=v,c=Fs(v,["mainAxis","crossAxis","limiter"]),E={x:l,y:a},y=await Rs(n,c),r=Q(A(o)),u=Os(r);let f=E[r],i=E[u];if(F){const g=r==="y"?"top":"left",C=r==="y"?"bottom":"right",D=f+y[g],X=f-y[C];f=fs(D,f,X)}if(p){const g=u==="y"?"top":"left",C=u==="y"?"bottom":"right",D=i+y[g],X=i-y[C];i=fs(D,i,X)}return e(b(m({},n),{[r]:f,[u]:i}))}}};function ls(s){return(s==null?void 0:s.toString())==="[object Window]"}function _(s){if(s==null)return window;if(!ls(s)){const n=s.ownerDocument;return n&&n.defaultView||window}return s}function S(s){return _(s).getComputedStyle(s)}function w(s){return ls(s)?"":s?(s.nodeName||"").toLowerCase():""}function x(s){return s instanceof _(s).HTMLElement}function N(s){return s instanceof _(s).Element}function As(s){return s instanceof _(s).Node}function ds(s){const n=_(s).ShadowRoot;return s instanceof n||s instanceof ShadowRoot}function j(s){const{overflow:n,overflowX:l,overflowY:a}=S(s);return/auto|scroll|overlay|hidden/.test(n+a+l)}function Ns(s){return["table","td","th"].includes(w(s))}function gs(s){const n=navigator.userAgent.toLowerCase().includes("firefox"),l=S(s);return l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].includes(l.willChange)||n&&l.willChange==="filter"||n&&(l.filter?l.filter!=="none":!1)}function H(s,n){n===void 0&&(n=!1);const l=s.getBoundingClientRect();let a=1,o=1;return n&&x(s)&&(a=s.offsetWidth>0&&Math.round(l.width)/s.offsetWidth||1,o=s.offsetHeight>0&&Math.round(l.height)/s.offsetHeight||1),{width:l.width/a,height:l.height/o,top:l.top/o,right:l.right/a,bottom:l.bottom/o,left:l.left/a,x:l.left/a,y:l.top/o}}function L(s){return((As(s)?s.ownerDocument:s.document)||window.document).documentElement}function z(s){return ls(s)?{scrollLeft:s.pageXOffset,scrollTop:s.pageYOffset}:{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Cs(s){return H(L(s)).left+z(s).scrollLeft}function js(s){const n=H(s);return Math.round(n.width)!==s.offsetWidth||Math.round(n.height)!==s.offsetHeight}function zs(s,n,l){const a=x(n),o=L(n),F=H(s,a&&js(n));let p={scrollLeft:0,scrollTop:0};const e={x:0,y:0};if(a||!a&&l!=="fixed")if((w(n)!=="body"||j(o))&&(p=z(n)),x(n)){const c=H(n,!0);e.x=c.x+n.clientLeft,e.y=c.y+n.clientTop}else o&&(e.x=Cs(o));return{x:F.left+p.scrollLeft-e.x,y:F.top+p.scrollTop-e.y,width:F.width,height:F.height}}function V(s){return w(s)==="html"?s:s.assignedSlot||s.parentNode||(ds(s)?s.host:null)||L(s)}function ms(s){return!x(s)||getComputedStyle(s).position==="fixed"?null:s.offsetParent}function Vs(s){let n=V(s);for(;x(n)&&!["html","body"].includes(w(n));){if(gs(n))return n;n=n.parentNode}return null}function as(s){const n=_(s);let l=ms(s);for(;l&&Ns(l)&&getComputedStyle(l).position==="static";)l=ms(l);return l&&(w(l)==="html"||w(l)==="body"&&getComputedStyle(l).position==="static"&&!gs(l))?n:l||Vs(s)||n}function hs(s){return{width:s.offsetWidth,height:s.offsetHeight}}function Is(s){let{rect:n,offsetParent:l,strategy:a}=s;const o=x(l),F=L(l);if(l===F)return n;let p={scrollLeft:0,scrollTop:0};const e={x:0,y:0};if((o||!o&&a!=="fixed")&&((w(l)!=="body"||j(F))&&(p=z(l)),x(l))){const c=H(l,!0);e.x=c.x+l.clientLeft,e.y=c.y+l.clientTop}return b(m({},n),{x:n.x-p.scrollLeft+e.x,y:n.y-p.scrollTop+e.y})}function Xs(s){const n=_(s),l=L(s),a=n.visualViewport;let o=l.clientWidth,F=l.clientHeight,p=0,e=0;return a&&(o=a.width,F=a.height,Math.abs(n.innerWidth/a.scale-a.width)<.001&&(p=a.offsetLeft,e=a.offsetTop)),{width:o,height:F,x:p,y:e}}const vs=Math.min,W=Math.max;function Ys(s){var n;const l=L(s),a=z(s),o=(n=s.ownerDocument)==null?void 0:n.body,F=W(l.scrollWidth,l.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),p=W(l.scrollHeight,l.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let e=-a.scrollLeft+Cs(s);const c=-a.scrollTop;return S(o||l).direction==="rtl"&&(e+=W(l.clientWidth,o?o.clientWidth:0)-F),{width:F,height:p,x:e,y:c}}function Ds(s){return["html","body","#document"].includes(w(s))?s.ownerDocument.body:x(s)&&j(s)?s:Ds(V(s))}function M(s,n){var l;n===void 0&&(n=[]);const a=Ds(s),o=a===((l=s.ownerDocument)==null?void 0:l.body),F=_(a),p=o?[F].concat(F.visualViewport||[],j(a)?a:[]):a,e=n.concat(p);return o?e:e.concat(M(V(p)))}function Us(s,n){const l=n.getRootNode==null?void 0:n.getRootNode();if(s.contains(n))return!0;if(l&&ds(l)){let a=n;do{if(a&&s===a)return!0;a=a.parentNode||a.host}while(a)}return!1}function Gs(s){const n=H(s),l=n.top+s.clientTop,a=n.left+s.clientLeft;return{top:l,left:a,x:a,y:l,right:a+s.clientWidth,bottom:l+s.clientHeight,width:s.clientWidth,height:s.clientHeight}}function bs(s,n){return n==="viewport"?Z(Xs(s)):N(n)?Gs(n):Z(Ys(L(s)))}function Js(s){const n=M(V(s)),l=["absolute","fixed"].includes(S(s).position),a=l&&x(s)?as(s):s;return N(a)?n.filter(o=>N(o)&&Us(o,a)&&w(o)!=="body"&&(l?S(o).position!=="static":!0)):[]}function Ks(s){let{element:n,boundary:l,rootBoundary:a}=s;const F=[...l==="clippingParents"?Js(n):[].concat(l),a],p=F[0],e=F.reduce((c,E)=>{const y=bs(n,E);return c.top=W(y.top,c.top),c.right=vs(y.right,c.right),c.bottom=vs(y.bottom,c.bottom),c.left=W(y.left,c.left),c},bs(n,p));return e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}const Qs={getElementRects:s=>{let{reference:n,floating:l,strategy:a}=s;return{reference:zs(n,as(l),a),floating:b(m({},hs(l)),{x:0,y:0})}},convertOffsetParentRelativeRectToViewportRelativeRect:s=>Is(s),getOffsetParent:s=>{let{element:n}=s;return as(n)},isElement:s=>N(s),getDocumentElement:s=>{let{element:n}=s;return L(n)},getClippingClientRect:s=>Ks(s),getDimensions:s=>{let{element:n}=s;return hs(n)}},os=(s,n,l)=>Ms(s,n,m({platform:Qs},l)),I=P({props:{type:null,placement:null},setup(s){const n=s,l=q(!1),a=q(null),o=q(null),F=Y({x:0,y:0});async function p(){if(a.value===null||o.value===null)return;const{x:i,y:v}=await os(a.value,o.value,{placement:n.placement,middleware:[ss(5),ns()]});Object.assign(F,{x:Math.round(i),y:Math.round(v)})}function e(){a.value!==null&&M(a.value).forEach(i=>{i.addEventListener("scroll",p),i.addEventListener("resize",p)})}function c(){a.value!==null&&M(a.value).forEach(i=>{i.removeEventListener("scroll",p),i.removeEventListener("resize",p)})}function E(){l.value!==!0&&(l.value=!0,is(()=>{p(),e()}))}function y(){l.value!==!1&&(c(),l.value=!1)}const r=q(!1);function u(){n.type==="hover"&&(r.value=!0,E())}function f(){n.type==="hover"&&(r.value=!1,setTimeout(()=>{r.value||y()},50))}return(i,v)=>{const g=cs("click-outside");return B(),k(J,null,[d("div",U({ref_key:"reference",ref:a},i.$attrs,{onClick:E,onMouseover:u,onMouseleave:f}),[$(i.$slots,"default",{active:l.value,show:E,hide:y})],16),T(ks,{"enter-active-class":"transition-opacity duration-100 ease-out","leave-active-class":"transition-opacity duration-100 ease-out","enter-from-class":"opacity-0","leave-to-class":"opacity-0"},{default:h(()=>[l.value?rs((B(),k("div",{key:0,ref_key:"floating",ref:o,class:"absolute top-0 left-0",style:G({transform:`translate(${R(F).x}px, ${R(F).y}px)`}),onMouseover:u,onMouseleave:f},[$(i.$slots,"floating",{visible:l.value,show:E,hide:y})],36)),[[g,y,"mouseup"]]):ys("",!0)]),_:3})],64)}}});const Zs={class:"relative text-center py-4"},sn=d("button",{class:"btn"},"show menu",-1),nn={class:"menu"},ln={class:"menu -mt-1"},an={class:"menu -mt-1"},on=["onClick"],pn=["onClick"],tn=d("div",{class:"menu -mt-1"},[d("button",{class:"menu-item text-gray-400 cursor-not-allowed"}," disabled ")],-1),qs=P({setup(s){return(n,l)=>(B(),k("div",Zs,[T(I,{class:"inline-block",placement:"bottom-start"},{default:h(()=>[sn]),floating:h(a=>[d("div",nn,[T(I,{class:"block",type:"hover",placement:"right-start"},{default:h(o=>[d("button",{class:K(["menu-item",{"bg-gray-100":o.active}])}," menu 1 ",2)]),floating:h(()=>[d("div",ln,[T(I,{class:"block",type:"hover",placement:"right-start"},{default:h(o=>[d("button",{class:K(["menu-item",o.active?"bg-gray-100":"bg-white"])}," submenu 1 ",2)]),floating:h(()=>[d("div",an,[d("button",{class:"menu-item",onClick:a.hide}," close ",8,on)])]),_:2},1024),d("button",{class:"menu-item",onClick:a.hide},"close",8,pn)])]),_:2},1024),T(I,{class:"block",type:"hover",placement:"right-start"},{default:h(o=>[d("button",{class:K(["menu-item",o.active?"bg-gray-100":"bg-white"])}," menu 2 ",2)]),floating:h(()=>[tn]),_:1})])]),_:1})]))}}),en=P({setup(s){const n=q(null),l=q(null),a=Y({x:0,y:0});async function o(){if(n.value===null||l.value===null)return;const{x:F,y:p}=await os(n.value,l.value,{placement:"top",middleware:[ss(5),ns()]});Object.assign(a,{x:Math.round(F),y:Math.round(p)})}return _s(async()=>{n.value===null||l.value===null||(o(),M(n.value).forEach(F=>{F.addEventListener("scroll",o),F.addEventListener("resize",o)}))}),(F,p)=>(B(),k(J,null,[d("div",U({ref_key:"reference",ref:n},F.$attrs),[$(F.$slots,"default")],16),d("div",{ref_key:"floating",ref:l,class:"absolute top-0 left-0 z-auto",style:G({transform:`translate(${R(a).x}px, ${R(a).y}px)`})},[$(F.$slots,"floating")],4)],64))}});const Fn={class:"relative text-center py-4"},cn=Es(" button "),rn=d("div",{class:"tooltip"},"tooltip",-1),yn=P({setup(s){return(n,l)=>(B(),k("div",Fn,[T(en,{class:"inline-block btn",placement:"top"},{floating:h(()=>[rn]),default:h(()=>[cn]),_:1})]))}}),En=P({props:{placement:null},setup(s){const n=s,l=q(!1),a=q(null),o=q(null),F=Y({x:0,y:0});async function p(){if(a.value===null||o.value===null)return;const{x:r,y:u}=await os(a.value,o.value,{placement:n.placement,middleware:[ss(5),ns()]});Object.assign(F,{x:Math.round(r),y:Math.round(u)})}function e(){a.value!==null&&M(a.value).forEach(r=>{r.addEventListener("scroll",p),r.addEventListener("resize",p)})}function c(){a.value!==null&&M(a.value).forEach(r=>{r.removeEventListener("scroll",p),r.removeEventListener("resize",p)})}function E(){l.value!==!0&&(l.value=!0,is(()=>{p(),e()}))}function y(){l.value!==!1&&(c(),l.value=!1)}return(r,u)=>{const f=cs("click-outside");return B(),k(J,null,[d("div",U({ref_key:"reference",ref:a},r.$attrs,{onClick:E}),[$(r.$slots,"default")],16),l.value?rs((B(),k("div",{key:0,ref_key:"floating",ref:o,class:"absolute top-0 left-0",style:G({transform:`translate(${R(F).x}px, ${R(F).y}px)`})},[$(r.$slots,"floating")],4)),[[f,y,"mouseup"]]):ys("",!0)],64)}}});const un={class:"relative text-center py-4"},fn=Es(" button "),dn=d("div",{class:"tooltip"},"tooltip",-1),gn=P({setup(s){return(n,l)=>(B(),k("div",un,[T(En,{class:"inline-block btn",placement:"top"},{floating:h(()=>[dn]),default:h(()=>[fn]),_:1})]))}}),Cn=[t("h1",{},["Create a floating component"]),t("h2",{},["Problem"]),t("p",{},["You want to show a menu or tooltip like this, after user clicks / hovers a button:"]),t(qs,{}),t("h2",{},["Solution"]),t("p",{},["Floating components doesn\u2019t disrupt the flow of the main content. Therefore, we actually don\u2019t have to make any modification to the main content. The biggest concerns of building a floating component are about the floating element itself:"]),t("ol",{},[t("li",{},["We should decide the position of the floating element relative to the reference element."]),t("li",{},["We want to control when and how it appears / disappears."])]),t("p",{},["For the first concern, there is a dedicated library specifically for floating element positioning called ",t("a",{href:"http://floating-ui.com"},["Floating UI"])," (formerly ",t("a",{href:"https://popper.js.org"},["Popper.js"]),"). It helps us to calculate the relative position of the floating element to the reference, with a handy collection of positioning strategies supported. While it is good to use it as the documentation demonstrates, we may still want to integrate it into a Vue component, in order to have a more consistent API with better organization and control of logic."]),t("h3",{},["Take #1"]),t("p",{},["For convenience, we want our Vue component to wrap the reference element, and also be able to write the floating component within it. We can achieve this by using ",t("a",{href:"https://v3.vuejs.org/guide/component-slots.html#named-slots"},["named slots"]),". The inital API design would be like this:"]),t("div",{innerHTML:`<pre class="shiki" style="background-color: #282A36"><code><span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">relative text-center py-4</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">inline-block btn</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">placement</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">top</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      button</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> #</span><span style="color: #62E884; font-style: italic">floating</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">        &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">tooltip</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;tooltip&lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;/</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">ts</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">setup</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> Float </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">./Float1.vue</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">style</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">postcss</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #62E884; font-style: italic">.btn</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">@apply </span><span style="color: #BF9EEE">px-3</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">py-1</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">bg-gray-800</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">text-white</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">font-semibold</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">rounded-lg</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">cursor-pointer</span><span style="color: #F6F6F4">;</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #62E884; font-style: italic">.tooltip</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">@apply </span><span style="color: #BF9EEE">px-2</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">py-1</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">bg-white</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">ring-1</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">ring-gray-200</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">rounded-lg</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">shadow-sm</span><span style="color: #F6F6F4">;</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">style</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"></span></code></pre>`}),t("p",{},["We write a basic component positioning logic:"]),t("div",{innerHTML:`<pre class="shiki" style="background-color: #282A36"><code><span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">ref</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">reference</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">v-bind</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">$attrs</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #F286C4">slot</span><span style="color: #F6F6F4"> /&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">ref</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">floating</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">absolute top-0 left-0 z-auto</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">style</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">{ transform</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #E7EE98">\`translate(</span><span style="color: #F286C4">\${</span><span style="color: #F6F6F4">position.x</span><span style="color: #F286C4">}</span><span style="color: #E7EE98">px, </span><span style="color: #F286C4">\${</span><span style="color: #F6F6F4">position.y</span><span style="color: #F286C4">}</span><span style="color: #E7EE98">px)\`</span><span style="color: #F6F6F4"> }</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">  &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #F286C4">slot</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">name</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">floating</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> /&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">ts</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">setup</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> { onMounted, ref, reactive, Ref } </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">vue</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  computePosition,</span></span>
<span class="line"><span style="color: #F6F6F4">  getScrollParents,</span></span>
<span class="line"><span style="color: #F6F6F4">  offset,</span></span>
<span class="line"><span style="color: #F6F6F4">  shift,</span></span>
<span class="line"><span style="color: #F6F6F4">} </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">@floating-ui/dom</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> reference</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">Ref</span><span style="color: #F6F6F4">&lt;</span><span style="color: #FFB86C; font-style: italic">HTMLElement</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">null</span><span style="color: #F6F6F4">&gt; </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> floating</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">Ref</span><span style="color: #F6F6F4">&lt;</span><span style="color: #FFB86C; font-style: italic">HTMLElement</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">null</span><span style="color: #F6F6F4">&gt; </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> position </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">reactive</span><span style="color: #F6F6F4">({ x</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">0</span><span style="color: #F6F6F4">, y</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">0</span><span style="color: #F6F6F4"> })</span></span>
<span class="line"><span style="color: #F286C4">async</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">update</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">||</span><span style="color: #F6F6F4"> floating.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> { x, y } </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">await</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">computePosition</span><span style="color: #F6F6F4">(reference.value, floating.value, {</span></span>
<span class="line"><span style="color: #F6F6F4">    placement</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">top</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">,</span></span>
<span class="line"><span style="color: #F6F6F4">    middleware</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> [</span><span style="color: #62E884">offset</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">5</span><span style="color: #F6F6F4">), </span><span style="color: #62E884">shift</span><span style="color: #F6F6F4">()],</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #97E1F1; font-style: italic">Object</span><span style="color: #F6F6F4">.</span><span style="color: #62E884">assign</span><span style="color: #F6F6F4">(position, {</span></span>
<span class="line"><span style="color: #F6F6F4">    x</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">Math</span><span style="color: #F6F6F4">.</span><span style="color: #97E1F1">round</span><span style="color: #F6F6F4">(x),</span></span>
<span class="line"><span style="color: #F6F6F4">    y</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">Math</span><span style="color: #F6F6F4">.</span><span style="color: #97E1F1">round</span><span style="color: #F6F6F4">(y),</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #62E884">onMounted</span><span style="color: #F6F6F4">(</span><span style="color: #F286C4">async</span><span style="color: #F6F6F4"> () </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">||</span><span style="color: #F6F6F4"> floating.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">update</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">getScrollParents</span><span style="color: #F6F6F4">(reference.value).</span><span style="color: #62E884">forEach</span><span style="color: #F6F6F4">((</span><span style="color: #FFB86C; font-style: italic">el</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">addEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">scroll</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">addEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">resize</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">})</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"></span></code></pre>`}),t("p",{},["The result looks like:"]),t(yn,{}),t("p",{},["Some key features in this implementation:"]),t("ol",{},[t("li",{},["We put the floating element intially at top-left corner with ",t("code",{},["position: absolute"]),", to make sure it can be moved correctly and efficiently using CSS transform ",t("code",{},["translate()"]),"."]),t("li",{},["We use reactive variable ",t("code",{},["position"])," to track position change, and use inline style binding to actually set position. The position is calculated by Floating UI in function ",t("code",{},["update"]),". Notice that we rounded the position for reason described ",t("a",{href:"https://floating-ui.com/docs/misc#subpixel-and-accelerated-positioning"},["here"]),"."]),t("li",{},["It is made explicit that the position of the floating element is recalculated whenever the reference element changes position (when scroll or resize happens to one of its ancestors). Details are described ",t("a",{href:"https://floating-ui.com/docs/computePosition#scrollparents"},["here"]),"."])]),t("h3",{},["Take #2"]),t("p",{},["Now we want to control whether the floating element is visible. Our first implementation is a simple one: click to show tooltip, and click outside to hide it."]),t("p",{},["Basically, our new component maintains an internal state (",t("code",{},["visible"]),") for the visibility of the tooltip. On reference element clicking, we modify ",t("code",{},["visible"])," to be true, and register update hooks. We also add a event listener for clicking outside as described ",t("a",{href:"/vue-cookbook/utilities/02-detect-click-outside"},["here"]),"."]),t("div",{innerHTML:`<pre class="shiki" style="background-color: #282A36"><code><span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">ref</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">reference</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">v-bind</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">$attrs</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">click</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">show</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #F286C4">slot</span><span style="color: #F6F6F4"> /&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">v-if</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">visible</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">ref</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">floating</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">v-click-outside</span><span style="color: #F6F6F4">:</span><span style="color: #62E884; font-style: italic">mouseup</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">hide</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">absolute top-0 left-0</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">style</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">{ transform</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #E7EE98">\`translate(</span><span style="color: #F286C4">\${</span><span style="color: #F6F6F4">position.x</span><span style="color: #F286C4">}</span><span style="color: #E7EE98">px, </span><span style="color: #F286C4">\${</span><span style="color: #F6F6F4">position.y</span><span style="color: #F286C4">}</span><span style="color: #E7EE98">px)\`</span><span style="color: #F6F6F4"> }</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">  &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #F286C4">slot</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">name</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">floating</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> /&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">ts</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">setup</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> { ref, reactive, Ref, nextTick } </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">vue</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  computePosition,</span></span>
<span class="line"><span style="color: #F6F6F4">  getScrollParents,</span></span>
<span class="line"><span style="color: #F6F6F4">  offset,</span></span>
<span class="line"><span style="color: #F6F6F4">  shift,</span></span>
<span class="line"><span style="color: #F6F6F4">} </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">@floating-ui/dom</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> { Placement } </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">@floating-ui/core</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> props </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">defineProps</span><span style="color: #F6F6F4">&lt;{</span></span>
<span class="line"><span style="color: #F6F6F4">  placement</span><span style="color: #F286C4">?:</span><span style="color: #F6F6F4"> </span><span style="color: #FFB86C; font-style: italic">Placement</span></span>
<span class="line"><span style="color: #F6F6F4">}&gt;()</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> visible </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">false</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> reference</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">Ref</span><span style="color: #F6F6F4">&lt;</span><span style="color: #FFB86C; font-style: italic">HTMLElement</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">null</span><span style="color: #F6F6F4">&gt; </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> floating</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">Ref</span><span style="color: #F6F6F4">&lt;</span><span style="color: #FFB86C; font-style: italic">HTMLElement</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">null</span><span style="color: #F6F6F4">&gt; </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> position </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">reactive</span><span style="color: #F6F6F4">({ x</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">0</span><span style="color: #F6F6F4">, y</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">0</span><span style="color: #F6F6F4"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">async</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">update</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">||</span><span style="color: #F6F6F4"> floating.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> { x, y } </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">await</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">computePosition</span><span style="color: #F6F6F4">(reference.value, floating.value, {</span></span>
<span class="line"><span style="color: #F6F6F4">    placement</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> props.placement,</span></span>
<span class="line"><span style="color: #F6F6F4">    middleware</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> [</span><span style="color: #62E884">offset</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">5</span><span style="color: #F6F6F4">), </span><span style="color: #62E884">shift</span><span style="color: #F6F6F4">()],</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #97E1F1; font-style: italic">Object</span><span style="color: #F6F6F4">.</span><span style="color: #62E884">assign</span><span style="color: #F6F6F4">(position, {</span></span>
<span class="line"><span style="color: #F6F6F4">    x</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">Math</span><span style="color: #F6F6F4">.</span><span style="color: #97E1F1">round</span><span style="color: #F6F6F4">(x),</span></span>
<span class="line"><span style="color: #F6F6F4">    y</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">Math</span><span style="color: #F6F6F4">.</span><span style="color: #97E1F1">round</span><span style="color: #F6F6F4">(y),</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">addHooks</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">getScrollParents</span><span style="color: #F6F6F4">(reference.value).</span><span style="color: #62E884">forEach</span><span style="color: #F6F6F4">((</span><span style="color: #FFB86C; font-style: italic">el</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">addEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">scroll</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">addEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">resize</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">removeHooks</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">getScrollParents</span><span style="color: #F6F6F4">(reference.value).</span><span style="color: #62E884">forEach</span><span style="color: #F6F6F4">((</span><span style="color: #FFB86C; font-style: italic">el</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">removeEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">scroll</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">removeEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">resize</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">show</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (visible.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">true</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  visible.value </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">true</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">nextTick</span><span style="color: #F6F6F4">(() </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884">update</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884">addHooks</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">hide</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (visible.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">false</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">removeHooks</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">  visible.value </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">false</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"></span></code></pre>`}),t("p",{},["The result looks like:"]),t(gn,{}),t("h3",{},["Take #3"]),t("p",{},["The final version includes more features to make it even more usable:"]),t("ol",{},[t("li",{},["We support different types of triggering condition (hover). We do this by attaching hooks to mouseover and mouseleave events."]),t("li",{},["We allow the user to access and change the internal visibility state (See ",t("a",{href:"https://v3.vuejs.org/guide/component-slots.html#scoped-slots"},["scoped slots"]),")."]),t("li",{},["We support a smooth transition on visibility change. We do this according to ",t("a",{href:"https://v3.vuejs.org/guide/transitions-enterleave.html#custom-transition-classes"},["Vue documentation"]),"."])]),t("p",{},["The implementation looks like this:"]),t("div",{innerHTML:`<pre class="shiki" style="background-color: #282A36"><code><span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">ref</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">reference</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">v-bind</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">$attrs</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">click</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">show</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">mouseover</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">onMouseOver</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">mouseleave</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">onMouseLeave</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">  &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #F286C4">slot</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">active</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">visible</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">show</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">show</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">hide</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">hide</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> /&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">transition</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">enter-active-class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">transition-opacity duration-100 ease-out</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">leave-active-class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">transition-opacity duration-100 ease-out</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">enter-from-class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">opacity-0</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884; font-style: italic">leave-to-class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">opacity-0</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">  &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #F286C4">div</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #62E884; font-style: italic">v-if</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">visible</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #62E884; font-style: italic">ref</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">floating</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #62E884; font-style: italic">v-click-outside</span><span style="color: #F6F6F4">:</span><span style="color: #62E884; font-style: italic">mouseup</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">hide</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">absolute top-0 left-0</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">style</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">{ transform</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #E7EE98">\`translate(</span><span style="color: #F286C4">\${</span><span style="color: #F6F6F4">position.x</span><span style="color: #F286C4">}</span><span style="color: #E7EE98">px, </span><span style="color: #F286C4">\${</span><span style="color: #F6F6F4">position.y</span><span style="color: #F286C4">}</span><span style="color: #E7EE98">px)\`</span><span style="color: #F6F6F4"> }</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">mouseover</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">onMouseOver</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">      </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">mouseleave</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">onMouseLeave</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">    &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;</span><span style="color: #F286C4">slot</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">name</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">floating</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">visible</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">visible</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">show</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">show</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">hide</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">hide</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> /&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">transition</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">ts</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">setup</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> { ref, reactive, Ref, nextTick } </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">vue</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  computePosition,</span></span>
<span class="line"><span style="color: #F6F6F4">  getScrollParents,</span></span>
<span class="line"><span style="color: #F6F6F4">  offset,</span></span>
<span class="line"><span style="color: #F6F6F4">  shift,</span></span>
<span class="line"><span style="color: #F6F6F4">} </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">@floating-ui/dom</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> { Placement } </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">@floating-ui/core</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> props </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">defineProps</span><span style="color: #F6F6F4">&lt;{</span></span>
<span class="line"><span style="color: #F6F6F4">  type</span><span style="color: #F286C4">?:</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">click</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">hover</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">manual</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F6F6F4">  placement</span><span style="color: #F286C4">?:</span><span style="color: #F6F6F4"> </span><span style="color: #FFB86C; font-style: italic">Placement</span></span>
<span class="line"><span style="color: #F6F6F4">}&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> visible </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">false</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> reference</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">Ref</span><span style="color: #F6F6F4">&lt;</span><span style="color: #FFB86C; font-style: italic">HTMLElement</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">null</span><span style="color: #F6F6F4">&gt; </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> floating</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">Ref</span><span style="color: #F6F6F4">&lt;</span><span style="color: #FFB86C; font-style: italic">HTMLElement</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">|</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1; font-style: italic">null</span><span style="color: #F6F6F4">&gt; </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> position </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">reactive</span><span style="color: #F6F6F4">({ x</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">0</span><span style="color: #F6F6F4">, y</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">0</span><span style="color: #F6F6F4"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">async</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">update</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">||</span><span style="color: #F6F6F4"> floating.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> { x, y } </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">await</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">computePosition</span><span style="color: #F6F6F4">(reference.value, floating.value, {</span></span>
<span class="line"><span style="color: #F6F6F4">    placement</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> props.placement,</span></span>
<span class="line"><span style="color: #F6F6F4">    middleware</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> [</span><span style="color: #62E884">offset</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">5</span><span style="color: #F6F6F4">), </span><span style="color: #62E884">shift</span><span style="color: #F6F6F4">()],</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #97E1F1; font-style: italic">Object</span><span style="color: #F6F6F4">.</span><span style="color: #62E884">assign</span><span style="color: #F6F6F4">(position, {</span></span>
<span class="line"><span style="color: #F6F6F4">    x</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">Math</span><span style="color: #F6F6F4">.</span><span style="color: #97E1F1">round</span><span style="color: #F6F6F4">(x),</span></span>
<span class="line"><span style="color: #F6F6F4">    y</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">Math</span><span style="color: #F6F6F4">.</span><span style="color: #97E1F1">round</span><span style="color: #F6F6F4">(y),</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">addHooks</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">getScrollParents</span><span style="color: #F6F6F4">(reference.value).</span><span style="color: #62E884">forEach</span><span style="color: #F6F6F4">((</span><span style="color: #FFB86C; font-style: italic">el</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">addEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">scroll</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">addEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">resize</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">removeHooks</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (reference.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">null</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">getScrollParents</span><span style="color: #F6F6F4">(reference.value).</span><span style="color: #62E884">forEach</span><span style="color: #F6F6F4">((</span><span style="color: #FFB86C; font-style: italic">el</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">removeEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">scroll</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">    el.</span><span style="color: #62E884">removeEventListener</span><span style="color: #F6F6F4">(</span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">resize</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">, update)</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">show</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (visible.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">true</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  visible.value </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">true</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">nextTick</span><span style="color: #F6F6F4">(() </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884">update</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #62E884">addHooks</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">  })</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">hide</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (visible.value </span><span style="color: #F286C4">===</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">false</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">removeHooks</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">  visible.value </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">false</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F286C4">const</span><span style="color: #F6F6F4"> protect </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">ref</span><span style="color: #F6F6F4">(</span><span style="color: #BF9EEE">false</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">onMouseOver</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (props.type </span><span style="color: #F286C4">!==</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">hover</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  protect.value </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">true</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #62E884">show</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F286C4">function</span><span style="color: #F6F6F4"> </span><span style="color: #62E884">onMouseLeave</span><span style="color: #F6F6F4">() {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (props.type </span><span style="color: #F286C4">!==</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">hover</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4">) </span><span style="color: #F286C4">return</span></span>
<span class="line"><span style="color: #F6F6F4">  protect.value </span><span style="color: #F286C4">=</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">false</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #97E1F1">setTimeout</span><span style="color: #F6F6F4">(() </span><span style="color: #F286C4">=&gt;</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">    </span><span style="color: #F286C4">if</span><span style="color: #F6F6F4"> (</span><span style="color: #F286C4">!</span><span style="color: #F6F6F4">protect.value) </span><span style="color: #62E884">hide</span><span style="color: #F6F6F4">()</span></span>
<span class="line"><span style="color: #F6F6F4">  }, </span><span style="color: #BF9EEE">50</span><span style="color: #F6F6F4">)</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"></span></code></pre>`}),t("p",{},["With current implementation, we are able to even implement a nesting menu. We delegate menu show and hide control to the underlying component, while observing the visibility state through slot prop ",t("code",{},["active"]),"."]),t("div",{innerHTML:`<pre class="shiki" style="background-color: #282A36"><code><span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">relative text-center py-4</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">inline-block</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">placement</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">bottom-start</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> #</span><span style="color: #62E884; font-style: italic">default</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">        &lt;</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">btn</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;show menu&lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">#</span><span style="color: #62E884; font-style: italic">floating</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">root</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">        &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">          &lt;</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">block</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">type</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">hover</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">placement</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">right-start</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">#</span><span style="color: #62E884; font-style: italic">default</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">props</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;</span><span style="color: #F286C4">button</span></span>
<span class="line"><span style="color: #F6F6F4">                </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu-item</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">                </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">{ </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">bg-gray-100</span><span style="color: #DEE492">&#39;</span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> props.active }</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">              &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                menu 1</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> #</span><span style="color: #62E884; font-style: italic">floating</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu -mt-1</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                &lt;</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">block</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">type</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">hover</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">placement</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">right-start</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                  &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">#</span><span style="color: #62E884; font-style: italic">default</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">props</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                    &lt;</span><span style="color: #F286C4">button</span></span>
<span class="line"><span style="color: #F6F6F4">                      </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu-item</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">                      </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">props.active </span><span style="color: #F286C4">?</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">bg-gray-100</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">bg-white</span><span style="color: #DEE492">&#39;&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">                    &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                      submenu 1</span></span>
<span class="line"><span style="color: #F6F6F4">                    &lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                  &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F6F6F4">                  &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> #</span><span style="color: #62E884; font-style: italic">floating</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                    &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu -mt-1</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                      &lt;</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu-item</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">click</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">root.hide</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                        close</span></span>
<span class="line"><span style="color: #F6F6F4">                      &lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                    &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                  &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                &lt;/</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                &lt;</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu-item</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">@</span><span style="color: #62E884; font-style: italic">click</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">root.hide</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;close&lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">          &lt;/</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">          &lt;</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">block</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">type</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">hover</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">placement</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">right-start</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">#</span><span style="color: #62E884; font-style: italic">default</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">props</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;</span><span style="color: #F286C4">button</span></span>
<span class="line"><span style="color: #F6F6F4">                </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu-item</span><span style="color: #DEE492">&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">                </span><span style="color: #F286C4">:</span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F286C4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">props.active </span><span style="color: #F286C4">?</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">bg-gray-100</span><span style="color: #DEE492">&#39;</span><span style="color: #F6F6F4"> </span><span style="color: #F286C4">:</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">bg-white</span><span style="color: #DEE492">&#39;&quot;</span></span>
<span class="line"><span style="color: #F6F6F4">              &gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                menu 2</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4"> #</span><span style="color: #62E884; font-style: italic">floating</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu -mt-1</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                &lt;</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">class</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">menu-item text-gray-400 cursor-not-allowed</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">                  disabled</span></span>
<span class="line"><span style="color: #F6F6F4">                &lt;/</span><span style="color: #F286C4">button</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">              &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">            &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">          &lt;/</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">        &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">      &lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">    &lt;/</span><span style="color: #97E1F1; font-style: italic">Float</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">  &lt;/</span><span style="color: #F286C4">div</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">template</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">ts</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">setup</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F286C4">import</span><span style="color: #F6F6F4"> Float </span><span style="color: #F286C4">from</span><span style="color: #F6F6F4"> </span><span style="color: #DEE492">&#39;</span><span style="color: #E7EE98">./Float3.vue</span><span style="color: #DEE492">&#39;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">script</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;</span><span style="color: #F286C4">style</span><span style="color: #F6F6F4"> </span><span style="color: #62E884; font-style: italic">lang</span><span style="color: #F6F6F4">=</span><span style="color: #DEE492">&quot;</span><span style="color: #E7EE98">postcss</span><span style="color: #DEE492">&quot;</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"><span style="color: #62E884; font-style: italic">.btn</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">@apply </span><span style="color: #BF9EEE">px-3</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">py-1</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">bg-gray-800</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">text-white</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">font-semibold</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">rounded-lg</span><span style="color: #F6F6F4">;</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #62E884; font-style: italic">.menu</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">@apply </span><span style="color: #BF9EEE">w-32</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">py-1</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">bg-white</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">ring-1</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">ring-gray-200</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">rounded</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">shadow-sm</span><span style="color: #F6F6F4">;</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #62E884; font-style: italic">.menu-item</span><span style="color: #F6F6F4"> {</span></span>
<span class="line"><span style="color: #F6F6F4">  </span><span style="color: #F286C4">@apply </span><span style="color: #BF9EEE">inline-block</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">text-left</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">w-full</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">px-2</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">py-1</span><span style="color: #F6F6F4"> </span><span style="color: #97E1F1">hover</span><span style="color: #F6F6F4">:</span><span style="color: #BF9EEE">bg-gray-100</span><span style="color: #F6F6F4"> </span><span style="color: #BF9EEE">focus</span><span style="color: #F6F6F4">:</span><span style="color: #BF9EEE">outline-none</span><span style="color: #F6F6F4">;</span></span>
<span class="line"><span style="color: #F6F6F4">}</span></span>
<span class="line"><span style="color: #F6F6F4">&lt;/</span><span style="color: #F286C4">style</span><span style="color: #F6F6F4">&gt;</span></span>
<span class="line"></span></code></pre>`}),t("p",{},["And the final result looks like this:"]),t(qs,{})];var vn={render(){return Cn}};const Dn={title:"Create a floating component",layout:"book"};export{vn as default,Dn as frontmatter,Cn as nodes};
